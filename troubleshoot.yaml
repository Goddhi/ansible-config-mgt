export AWS_ACCESS_KEY=AKIAQWMDIQCECQK2O3WE

export AWS_SECRET_KEY=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



ssh -i ~/.ssh/vm-ssh-key ubuntu@[AWS_INSTANCE_EXTERNAL_IP]

ssh -i ~/.ssh/vm-ssh-key ubuntu@ec2-54-225-215-221.compute-1.amazonaws.com

34.30.147.182

curl -k https://34.30.147.182



ssh -i ~/.ssh/vm-ssh-key ubuntu@34.171.76.210


touch main.tf
touch variables.tf
mkdir modules
cd modules
mkdir instances
cd instances
touch instances.tf
touch outputs.tf
touch variables.tf
cd ..
mkdir storage
cd storage
touch storage.tf
touch outputs.tf
touch variables.tf
cd



variable "region" {
 default = "us-east1"
}

variable "zone" {
 default = "us-east1-d"
}

variable "project_id" {
 default = "qwiklabs-gcp-01-1c424ff07d2e"
}




terraform {
  required_providers {
    google = {
      source = "hashicorp/google"
      version = "4.53.0"
    }
  }
}

provider "google" {
  project     = var.project_id
  region      = var.region

  zone        = var.zone
}

module "instances" {

  source     = "./modules/instances"

}




resource "google_compute_instance" "tf-instance-1" {
  name         = "tf-instance-1"
  machine_type = "n1-standard-1"
  zone         = "us-east1-d"

  boot_disk {
    initialize_params {
      image = "debian-cloud/debian-10"
    }
  }

  network_interface {
 network = "default"
  }
  metadata_startup_script = <<-EOT
        #!/bin/bash
    EOT
  allow_stopping_for_update = true
}

resource "google_compute_instance" "tf-instance-2" {
  name         = "tf-instance-2"
  machine_type = "n1-standard-1"
  zone         = "us-east1-d"

  boot_disk {
    initialize_params {
      image = "debian-cloud/debian-10"
    }
  }

  network_interface {
 network = "default"
  }
  metadata_startup_script = <<-EOT
        #!/bin/bash
    EOT
  allow_stopping_for_update = true
}
